#!/usr/bin/env bash
# =============================================================================
# BookVerse Platform - Environment Variables Configuration
# =============================================================================
#
# This file exports all environment variables required for BookVerse platform
# configuration scripts, particularly for configure_service_secrets.sh
#
# Usage:
#   source environment.sh
#   ./scripts/configure_service_secrets.sh "your-org"
#
# =============================================================================

# =============================================================================
# üîß REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# JFrog Platform URL
# Example: "https://your-instance.jfrog.io" or "https://apptrustswampupc.jfrog.io"
export JFROG_URL="https://your-instance.jfrog.io"

# Evidence signing key alias in JFrog Platform
# This is the alias of the key you created in JFrog Platform for evidence signing
# Example: "bookverse-signing-key" or "bookverse-signing-key"
export EVIDENCE_KEY_ALIAS="bookverse-signing-key"

# Evidence signing private key (PEM format)
# This is the private key that corresponds to the public key uploaded to JFrog Platform
# You can either:
#   1. Set it directly: export EVIDENCE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----..."
#   2. Read from file: export EVIDENCE_PRIVATE_KEY="$(cat path/to/evidence-key.pem)"
#   3. Read from file (this script): Uncomment the line below and set the path
# export EVIDENCE_PRIVATE_KEY="$(cat /path/to/your/evidence-key.pem)"

# JFrog Platform Admin Token (Required)
# Get this from your JFrog Platform admin account
# Required for update_evidence_keys.sh to upload keys to JFrog Platform
export JFROG_ADMIN_TOKEN="your-jfrog-admin-token"
# =============================================================================
# üåç OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================

# JFrog project key
# Default: "bookverse" (will be used if not set)
# Example: "bookverse" or "myproject"
export PROJECT_KEY="bookverse"

# Docker registry hostname
# If not set, will be derived from JFROG_URL automatically
# Example: "your-instance.jfrog.io" or "apptrustswampupc.jfrog.io"
# Note: Should NOT include https:// prefix
export DOCKER_REGISTRY="your-instance.jfrog.io"

# GitHub repository dispatch token (optional)
# Required only for cross-repository workflow triggering
# Must have 'repo' scope for target repositories
# Format: GitHub PAT (ghp_xxxxxxxxxxxx...)
# Example: export GH_REPO_DISPATCH_TOKEN="ghp_xxxxxxxxxxxx..."
export GH_REPO_DISPATCH_TOKEN="ghp_xxxxxxxxxxxx..."
